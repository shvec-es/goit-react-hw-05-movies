(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{29:function(t,e,n){"use strict";n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return b})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return j})),n.d(e,"c",(function(){return m}));var r=n(33),c=n.n(r),a=n(34),o="https://api.themoviedb.org/3",s="?api_key=3beebdf74f4d418df005cba36fb7024f";function i(){return u.apply(this,arguments)}function u(){return u=Object(a.a)(c.a.mark((function t(){var e,n,r=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"",t.next=3,fetch(e);case 3:if(!(n=t.sent).ok){t.next=10;break}return t.next=7,n.json();case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Promise.reject(new Error("Not found"));case 11:return t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function f(t){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i("".concat(o,"/trending/movies/day").concat(s,"&page=").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){return i("".concat(o,"/search/movie").concat(s,"&query=").concat(t,"&page=").concat(e))}function l(t){return i("".concat(o,"/movie/").concat(t).concat(s))}function j(t){return i("".concat(o,"/movie/").concat(t,"/credits").concat(s))}function m(t){return i("".concat(o,"/movie/").concat(t,"/reviews").concat(s))}},37:function(t,e,n){"use strict";e.a=n.p+"static/media/noimage.16383d75.jpg"},49:function(t,e,n){t.exports={poster:"Gallery_poster__1miTM",text:"Gallery_text__3L7P9"}},53:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(0);var r=n(49),c=n.n(r),a=n(37),o=n(2);var s=function(t){var e=t.poster,n=t.title,r=t.name;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("img",{className:c.a.poster,src:e?"https://www.themoviedb.org/t/p/w500".concat(e):a.a,alt:n}),Object(o.jsx)("h3",{className:c.a.text,children:n||r})]})}},69:function(t,e,n){t.exports={form:"MoviePage_form__2W-J2",input:"MoviePage_input__2-Kj2",btn:"MoviePage_btn__ECOwx",list:"MoviePage_list__2HHnP",item:"MoviePage_item__2QxSr"}},90:function(t,e,n){"use strict";n.r(e);var r=n(54),c=n(6),a=n(0),o=n(1),s=n(7),i=n(95),u=n(94),f=n(29),p=n(69),b=n.n(p),l=n(53),j=n(13),m=n(2);e.default=function(){var t=Object(o.h)(),e=Object(o.g)(),n=Object(a.useState)(""),p=Object(c.a)(n,2),h=p[0],g=p[1],d=Object(a.useState)([]),v=Object(c.a)(d,2),O=v[0],x=v[1],w=Object(a.useState)(1),_=Object(c.a)(w,2),y=_[0],q=_[1],P=Object(a.useState)(0),k=Object(c.a)(P,2),N=k[0],S=k[1],E=new URLSearchParams(e.search).get("query"),M=new URLSearchParams(e.search).get("page");Object(a.useEffect)((function(){E&&C(E,M)}),[]),Object(a.useEffect)((function(){""!==h.trim()&&C(h,y)}),[h,y]);var C=function(t,e){Object(f.d)(t,e).then((function(t){t.results.length>0?(x(t.results),S(t.total_pages)):j.b.warning("Enter correct query")})).catch((function(t){console.log(t),j.b.error("Oops...something wrong")}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("form",{className:b.a.form,onSubmit:function(n){n.preventDefault(),""!==n.target.query.value.trim()?(g(n.target.query.value),t(Object(r.a)(Object(r.a)({},e),{},{search:"query=".concat(n.target.query.value,"&page=").concat(y)})),n.target.query.value=""):j.b.warning("Enter word for search")},children:[Object(m.jsx)("input",{type:"text",className:b.a.input,name:"query",autoComplete:"off",placeholder:"Enter word for search"}),Object(m.jsx)("button",{type:"submit",className:b.a.btn})]}),O.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:b.a.list,children:O.map((function(t){var n=t.id,r=t.poster_path,c=t.title,a=t.name;return Object(m.jsx)("li",{className:b.a.item,children:Object(m.jsx)(s.b,{to:"".concat(n),state:{from:e,label:"to Movies page"},children:Object(m.jsx)(l.a,{poster:r,title:c,name:a})})},n)}))}),Object(m.jsx)(i.a,{count:N,page:y,onChange:function(t,e){return q(e)},sx:{display:"flex",justifyContent:"center"},showFirstButton:!0,showLastButton:!0,renderItem:function(t){return Object(m.jsx)(u.a,Object(r.a)({component:s.b,to:"/movies?query=".concat(h,"&page=").concat(t.page)},t))}})]})]})}}}]);
//# sourceMappingURL=movies-page.65c6038d.chunk.js.map