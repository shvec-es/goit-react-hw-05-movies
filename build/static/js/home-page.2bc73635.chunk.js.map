{"version":3,"sources":["services/movie-searcher-api.js","images/noimage.jpg","components/Gallery/Gallery.module.css","components/Gallery/Gallery.js","pages/HomePage/HomePage.module.css","pages/HomePage/HomePage.js"],"names":["BASE_URL","API_KEY","mainFetch","a","url","fetch","response","ok","json","Promise","reject","Error","fetchTrendings","page","fetchSearcMovie","query","fetchMovieDetails","id","fetchCast","fetchReview","module","exports","Gallery","poster","title","name","className","s","src","noimage","alt","text","HomePage","location","useLocation","useState","trends","setTrends","parseInt","search","split","setPage","allPages","setAllPages","useEffect","then","data","results","total_pages","catch","err","console","log","toast","error","length","list","map","poster_path","item","to","state","from","label","count","onChange","_","num","sx","display","justifyContent","showFirstButton","showLastButton","renderItem","component","Link"],"mappings":"gVAAMA,EAAQ,+BACRC,EAAO,4C,SAEEC,I,2EAAf,0CAAAC,EAAA,6DAAyBC,EAAzB,+BAA+B,GAA/B,SACyBC,MAAMD,GAD/B,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,mF,wBAOO,SAAeC,EAAtB,kC,4CAAO,WAA8BC,GAA9B,SAAAV,EAAA,sEACQD,EAAU,GAAD,OACjBF,EADiB,+BACcC,EADd,iBAC8BY,IAF/C,oF,sBAMA,SAASC,EAAgBC,EAAOF,GACrC,OAAOX,EAAU,GAAD,OACXF,EADW,wBACaC,EADb,kBAC8Bc,EAD9B,iBAC4CF,IAIvD,SAASG,EAAkBC,GAChC,OAAOf,EAAU,GAAD,OAAIF,EAAJ,kBAAsBiB,GAAtB,OAA2BhB,IAGtC,SAASiB,EAAUD,GACxB,OAAOf,EAAU,GAAD,OAAIF,EAAJ,kBAAsBiB,EAAtB,mBAAmChB,IAG9C,SAASkB,EAAYF,GAC1B,OAAOf,EAAU,GAAD,OAAIF,EAAJ,kBAAsBiB,EAAtB,mBAAmChB,M,gCC/BtC,QAA0B,qC,mBCCzCmB,EAAOC,QAAU,CAAC,OAAS,wBAAwB,KAAO,wB,2GCgB3CC,MAbf,YAA2C,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,MAAOC,EAAQ,EAARA,KAChC,OACE,qCACE,qBACEC,UAAWC,IAAEJ,OACbK,IAAKL,EAAM,6CAAyCA,GAAWM,IAC/DC,IAAKN,IAEP,oBAAIE,UAAWC,IAAEI,KAAjB,SAAwBP,GAAgBC,S,mBCX9CL,EAAOC,QAAU,CAAC,MAAQ,wBAAwB,KAAO,uBAAuB,KAAO,yB,+IC2ExEW,UAnEf,WAAqB,IAAD,EACZC,EAAWC,cACjB,EAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAwBF,mBACtBG,UAAS,UAAAL,EAASM,cAAT,eAAiBC,MAAM,KAAK,KAAM,IAD7C,mBAAO3B,EAAP,KAAa4B,EAAb,KAGA,EAAgCN,mBAAS,GAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KAcA,OAZAC,qBAAU,WACRhC,YAAeC,GACZgC,MAAK,SAAAC,GACJT,EAAUS,EAAKC,SACfJ,EAAYG,EAAKE,gBAElBC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZG,IAAMC,MAAM,+BAEf,CAACzC,IAGF,qCACE,oBAAIa,UAAWC,IAAEH,MAAjB,4BACCY,EAAOmB,OAAS,GACf,qCACE,oBAAI7B,UAAWC,IAAE6B,KAAjB,SACGpB,EAAOqB,KAAI,gBAAGxC,EAAH,EAAGA,GAAIyC,EAAP,EAAOA,YAAalC,EAApB,EAAoBA,MAAOC,EAA3B,EAA2BA,KAA3B,OACV,oBAAaC,UAAWC,IAAEgC,KAA1B,SACE,cAAC,IAAD,CACEC,GAAE,kBAAa3C,GACf4C,MAAO,CAAEC,KAAM7B,EAAU8B,MAAO,gBAFlC,SAIE,cAAC,IAAD,CAASxC,OAAQmC,EAAalC,MAAOA,EAAOC,KAAMA,OAL7CR,QAUb,cAAC,IAAD,CACE+C,MAAOtB,EACP7B,KAAMA,EACNoD,SAAU,SAACC,EAAGC,GAAJ,OAAY1B,EAAQ0B,IAC9BC,GAAI,CAAEC,QAAS,OAAQC,eAAgB,UACvCC,iBAAe,EACfC,gBAAc,EACdC,WAAY,SAAAd,GAAI,OACd,cAAC,IAAD,aACEe,UAAWC,IACXf,GAAE,gBAAWD,EAAK9C,OACd8C","file":"static/js/home-page.2bc73635.chunk.js","sourcesContent":["const BASE_URL = `https://api.themoviedb.org/3`;\r\nconst API_KEY = `?api_key=3beebdf74f4d418df005cba36fb7024f`;\r\n\r\nasync function mainFetch(url = '') {\r\n  const response = await fetch(url);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error('Not found'));\r\n}\r\n\r\nexport async function fetchTrendings(page) {\r\n  return await mainFetch(\r\n    `${BASE_URL}/trending/movies/day${API_KEY}&page=${page}`,\r\n  );\r\n}\r\n\r\nexport function fetchSearcMovie(query, page) {\r\n  return mainFetch(\r\n    `${BASE_URL}/search/movie${API_KEY}&query=${query}&page=${page}`,\r\n  );\r\n}\r\n\r\nexport function fetchMovieDetails(id) {\r\n  return mainFetch(`${BASE_URL}/movie/${id}${API_KEY}`);\r\n}\r\n\r\nexport function fetchCast(id) {\r\n  return mainFetch(`${BASE_URL}/movie/${id}/credits${API_KEY}`);\r\n}\r\n\r\nexport function fetchReview(id) {\r\n  return mainFetch(`${BASE_URL}/movie/${id}/reviews${API_KEY}`);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/noimage.16383d75.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"poster\":\"Gallery_poster__1miTM\",\"text\":\"Gallery_text__3L7P9\"};","import React from 'react';\r\nimport s from './Gallery.module.css';\r\nimport noimage from '../../images/noimage.jpg';\r\n\r\nfunction Gallery({ poster, title, name }) {\r\n  return (\r\n    <>\r\n      <img\r\n        className={s.poster}\r\n        src={poster ? `https://www.themoviedb.org/t/p/w500${poster}` : noimage}\r\n        alt={title}\r\n      />\r\n      <h3 className={s.text}>{title ? title : name}</h3>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Gallery;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HomePage_title__1HPZB\",\"list\":\"HomePage_list__3hQrv\",\"item\":\"HomePage_item__PWp9m\"};","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Pagination, PaginationItem } from '@mui/material';\r\nimport { toast } from 'react-toastify';\r\nimport { fetchTrendings } from 'services/movie-searcher-api';\r\nimport s from './HomePage.module.css';\r\nimport Gallery from 'components/Gallery';\r\n\r\nfunction HomePage() {\r\n  const location = useLocation();\r\n  const [trends, setTrends] = useState([]);\r\n  const [page, setPage] = useState(\r\n    parseInt(location.search?.split('=')[1] || 1),\r\n  );\r\n  const [allPages, setAllPages] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchTrendings(page)\r\n      .then(data => {\r\n        setTrends(data.results);\r\n        setAllPages(data.total_pages);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        toast.error('Oops...something wrong');\r\n      });\r\n  }, [page]);\r\n\r\n  return (\r\n    <>\r\n      <h1 className={s.title}>Trending Today</h1>\r\n      {trends.length > 0 && (\r\n        <>\r\n          <ul className={s.list}>\r\n            {trends.map(({ id, poster_path, title, name }) => (\r\n              <li key={id} className={s.item}>\r\n                <Link\r\n                  to={`/movies/${id}`}\r\n                  state={{ from: location, label: 'to Home page' }}\r\n                >\r\n                  <Gallery poster={poster_path} title={title} name={name} />\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <Pagination\r\n            count={allPages}\r\n            page={page}\r\n            onChange={(_, num) => setPage(num)}\r\n            sx={{ display: 'flex', justifyContent: 'center' }}\r\n            showFirstButton\r\n            showLastButton\r\n            renderItem={item => (\r\n              <PaginationItem\r\n                component={Link}\r\n                to={`?page=${item.page}`}\r\n                {...item}\r\n              />\r\n            )}\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nHomePage.propTypes = {\r\n  trends: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      title: PropTypes.string,\r\n      name: PropTypes.string,\r\n    }),\r\n  ),\r\n};\r\nexport default HomePage;\r\n"],"sourceRoot":""}